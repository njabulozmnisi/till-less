# Story 3.3: Optimisation Results & Explanations UI

- **Status:** Draft
- **Epic:** 3 â€“ Shopping List Experience (Frontend)
- **Related PRD Sections:** `docs/prd/05-5-scope-phase-1-mvp.md`, `docs/prd/08-8-user-journeys.md`
- **Related Architecture Sections:** `docs/architecture/05-5-key-data-flows.md`

## Story Statement
Create the results experience that presents the recommended store, item-level comparison table, savings summary, and explanations returned by the optimisation API.

## Acceptance Criteria
- [ ] Results view displays recommended store card with total cost, savings %, travel cost assumptions, and timestamp.
- [ ] Item comparison table shows price, loyalty price, applied promos, and substitution notes across retailers; sortable/filterable.
- [ ] Explanations section summarises key reasons for recommendation and runner-up insights.
- [ ] Users can adjust preferences (e.g., toggle loyalty card) inline and re-run optimisation.
- [ ] Responsive layout and accessibility compliance.

## Tasks & Subtasks
1. **API Integration**
   - Call optimisation endpoint, handle loading/error states, cache results.
2. **Results Card & Metrics**
   - Build components for totals, savings, travel cost, assumptions.
3. **Comparison Table**
   - Implement virtualised table for up to 60 items with sticky headers and promo badges.
4. **Explanations & Actions**
   - Render explanation list, provide CTA to export (hook into Story 3.4).
5. **Testing**
   - Component tests for table sorting, explanation rendering, rerun workflow.

## Dependencies
- Epic 2 stories delivering optimisation API endpoints.
- Epic 4 preferences API for inline adjustments.

## QA Checklist
- [ ] Screenshots across breakpoints.
- [ ] QA sign-off on accessibility/lighthouse scores.

## Implementation Log
| Date | Author | Notes |
| --- | --- | --- |

## QA Results
| Date | Reviewer | Outcome | Notes |
| --- | --- | --- | --- |

## File Tracker
- _To be completed during implementation._

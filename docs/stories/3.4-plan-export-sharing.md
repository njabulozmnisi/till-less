# Story 3.4: Plan Export & Sharing

- **Status:** Draft
- **Epic:** 3 â€“ Shopping List Experience (Frontend)
- **Related PRD Sections:** `docs/prd/05-5-scope-phase-1-mvp.md`
- **Related Architecture Sections:** `docs/architecture/04-4-component-breakdown.md`

## Story Statement
Enable users to export the optimisation plan as PDF/email so they can take the recommendations into store or share with household members.

## Acceptance Criteria
- [ ] Generate PDF export with summary card, item comparison table, and explanations formatted for print/mobile.
- [ ] Provide email share option sending PDF link to specified address (with BetterAuth-authenticated request).
- [ ] Track exports in analytics (Epic 5) for usage insights.
- [ ] Handle failure states with retry messaging.

## Tasks & Subtasks
1. **PDF Generation**
   - Implement server-side PDF creation (Next.js API route or backend service) using existing UI components.
2. **Email Delivery**
   - Integrate transactional email provider (e.g., Resend free tier) to send download link.
3. **UI Controls**
   - Add export/share buttons to results view with progress feedback.
4. **Analytics Hooks**
   - Emit event logging export type, timestamp, and list size.
5. **Testing**
   - Snapshot tests for PDF layout, e2e test for email flow.

## Dependencies
- Results view (Story 3.3) completed.
- Email provider credentials configured.

## QA Checklist
- [ ] Sample PDF attached.
- [ ] Test email screenshot/log.

## Implementation Log
| Date | Author | Notes |
| --- | --- | --- |

## QA Results
| Date | Reviewer | Outcome | Notes |
| --- | --- | --- | --- |

## File Tracker
- _To be completed during implementation._
